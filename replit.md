# ููุตุฉ ุงูููุชุฌุงุช ุงูุฑูููุฉ - Digital Products Marketplace

## ูุธุฑุฉ ุนุงูุฉ
ููุตุฉ ูุชูุงููุฉ ูุจูุน ูุดุฑุงุก ุงููุดุงุฑูุน ุงูุฑูููุฉ ูุน ูุธุงู Escrow ุขูู ูุฎุตู 15% ููููุตุฉ.

## ุงูุจููุฉ ุงูุชูููุฉ

### Frontend
- **Framework**: Next.js 14 (App Router)
- **Language**: TypeScript
- **Styling**: Tailwind CSS
- **Port**: 5000
- **URL**: http://localhost:5000

### Backend
- **Framework**: Express.js
- **Language**: Node.js
- **Database**: PostgreSQL (Neon)
- **Port**: 3001
- **API Base**: http://localhost:3001/api

## ุงููุฒุงูุง ุงูุฑุฆูุณูุฉ

### 1. ูุธุงู ุงููุตุงุฏูุฉ
- ุชุณุฌูู ุฏุฎูู/ุฅูุดุงุก ุญุณุงุจ ููุจุงุฆุน ูุงููุดุชุฑู
- JWT Authentication
- ุญูุงูุฉ ุงูุตูุญุงุช ูุงูู APIs

### 2. ูุธุงู ุงููุดุงุฑูุน
- ุฑูุน ุงููุดุงุฑูุน (ููุจุงุฆุนูู)
- ุชุตูุญ ุงููุดุงุฑูุน
- ุงูุจุญุซ ูุงูููุชุฑุฉ
- ุชูุงุตูู ุงููุดุฑูุน

### 3. ูุธุงู Escrow (ุงูุถูุงู)
- ุญุฌุฒ ุงูุฃููุงู ุจุดูู ุขูู
- ุฎุตู 15% ููููุตุฉ ุชููุงุฆูุงู
- ูุชุฑุฉ ูุฑุงุฌุนุฉ 7 ุฃูุงู
- ุฅููุงููุฉ ุงูุฏูุน ุจุงูุฃูุณุงุท
- ูุธุงู ุงุณุชุฑุฏุงุฏ ุงูุฃููุงู

### 4. ูุธุงู ุงููุนุงููุงุช
- ุชุชุจุน ุงููุนุงููุงุช
- ุญุงูุงุช ูุฎุชููุฉ (pending, escrow_held, completed, refunded, disputed)
- ุณุฌู ุงููุนุงููุงุช ููุจุงุฆุน ูุงููุดุชุฑู
- ุญุณุงุจ ุฃุฑุจุงุญ ุงูููุตุฉ

### 5. ูุธุงู ุงูุฅุดุนุงุฑุงุช
- ุฅุดุนุงุฑุงุช ุงูููุช ุงููุนูู
- ุฃููุงุน ูุฎุชููุฉ ูู ุงูุฅุดุนุงุฑุงุช
- ุนุฏุงุฏ ุงูุฅุดุนุงุฑุงุช ุบูุฑ ุงูููุฑูุกุฉ

### 6. ูุธุงู ุงูุฏุฑุฏุดุฉ
- ุชูุงุตู ูุจุงุดุฑ ุจูู ุงูุจุงุฆุน ูุงููุดุชุฑู
- ุชุชุจุน ุงูุฑุณุงุฆู
- ุนุฏุงุฏ ุงูุฑุณุงุฆู ุบูุฑ ุงูููุฑูุกุฉ

### 7. ูุธุงู ุทุฑู ุงูุฏูุน ุญุณุจ ุงูุฏููุฉ
- **ูุตุฑ**: ููุฏุงููู ูุงุดุ ุฅุชุตุงูุงุช ูุงุดุ ุฃูุฑุงูุฌ ูุงุด
- **ุจุงูู ุงูุฏูู**: ุจุทุงูุฉ ุจูููุฉ (Visa, Mastercard)
- ูุธุงู ููุญุฏ ููุฏูุน ูุงูุณุญุจ
- ุญูุธ ุชูุถููุงุช ุงููุณุชุฎุฏู ูุน ุงูุญูุงูุฉ ุงููุงููุฉ

### 8. ูุชุทูุจุงุช ุจุฑุงูุฌ ุณุทุญ ุงูููุชุจ
- ูุฌุจ ุชูุฏูู 6 ููุฏูููุงุช ุนูู ุงูุฃูู
- ุฏุนู ุฑูุงุจุท ูู YouTube ุฃู Google Drive
- ุงูุชุญูู ุงูุชููุงุฆู ูู ุนุฏุฏ ุงูููุฏูููุงุช
- ูุงุฌูุฉ ุณููุฉ ูุฑูุน ุงูุฑูุงุจุท

## ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงูุฌุฏุงูู ุงูุฑุฆูุณูุฉ:
1. **users** - ุงููุณุชุฎุฏููู (ุจุงุฆุนูู ููุดุชุฑูู) + ุญูู ุงูุฏููุฉ (country)
2. **projects** - ุงููุดุงุฑูุน ุงููุนุฑูุถุฉ + ููุน ุงููุดุฑูุน + ุฑูุงุจุท ุงูููุฏูููุงุช
3. **transactions** - ุงููุนุงููุงุช
4. **escrow** - ุญูุธ ุงูุฃููุงู
5. **installments** - ุงูุฃูุณุงุท
6. **notifications** - ุงูุฅุดุนุงุฑุงุช
7. **messages** - ุงูุฑุณุงุฆู
8. **platform_earnings** - ุฃุฑุจุงุญ ุงูููุตุฉ (15%)
9. **payment_methods** - ุทุฑู ุงูุฏูุน ุงููุชุงุญุฉ ุญุณุจ ุงูุฏููุฉ
10. **withdrawal_methods** - ุทุฑู ุณุญุจ ุงูุฃุฑุจุงุญ ููุจุงุฆุนูู
11. **user_payment_preferences** - ุชูุถููุงุช ุงูุฏูุน/ุงูุณุญุจ ูููุณุชุฎุฏููู

## API Endpoints

### Authentication (`/api/auth`)
- `POST /register/seller` - ุชุณุฌูู ุจุงุฆุน
- `POST /register/customer` - ุชุณุฌูู ูุดุชุฑู
- `POST /login` - ุชุณุฌูู ุฏุฎูู
- `GET /profile` - ุงูููู ุงูุดุฎุตู
- `PUT /profile` - ุชุญุฏูุซ ุงูููู ุงูุดุฎุตู

### Projects (`/api/projects`)
- `GET /` - ุฌููุน ุงููุดุงุฑูุน
- `GET /:id` - ุชูุงุตูู ูุดุฑูุน
- `POST /` - ุฅูุดุงุก ูุดุฑูุน (ุจุงุฆุน ููุท)
- `PUT /:id` - ุชุญุฏูุซ ูุดุฑูุน (ุจุงุฆุน ููุท)
- `DELETE /:id` - ุญุฐู ูุดุฑูุน (ุจุงุฆุน ููุท)

### Transactions (`/api/transactions`)
- `POST /` - ุฅูุดุงุก ูุนุงููุฉ (ูุดุชุฑู ููุท)
- `GET /` - ูุนุงููุงุช ุงููุณุชุฎุฏู
- `GET /:id` - ุชูุงุตูู ูุนุงููุฉ
- `POST /:id/release` - ุฅุทูุงู ุงูุฃููุงู ูู Escrow
- `POST /:id/refund` - ุทูุจ ุงุณุชุฑุฏุงุฏ
- `GET /platform/earnings` - ุฃุฑุจุงุญ ุงูููุตุฉ

### Notifications (`/api/notifications`)
- `GET /` - ุงูุฅุดุนุงุฑุงุช
- `GET /unread-count` - ุนุฏุฏ ุบูุฑ ุงูููุฑูุกุฉ
- `PATCH /:id/read` - ุชุญุฏูุฏ ูููุฑูุก
- `DELETE /:id` - ุญุฐู ุฅุดุนุงุฑ

### Chat (`/api/chat`)
- `POST /send` - ุฅุฑุณุงู ุฑุณุงูุฉ
- `GET /conversations` - ุงููุญุงุฏุซุงุช
- `GET /:user_id` - ุฑุณุงุฆู ูุน ูุณุชุฎุฏู
- `GET /unread-count` - ุนุฏุฏ ุบูุฑ ุงูููุฑูุกุฉ

### Payment (`/api/payment`)
- `GET /payment-methods?country=XX` - ุทุฑู ุงูุฏูุน ุญุณุจ ุงูุฏููุฉ
- `GET /withdrawal-methods?country=XX` - ุทุฑู ุงูุณุญุจ ุญุณุจ ุงูุฏููุฉ
- `POST /user-payment-preference` - ุญูุธ ุชูุถููุงุช ุงูุฏูุน (ูุญูู)
- `GET /user-payment-preference/:userId` - ุงูุญุตูู ุนูู ุชูุถููุงุช ุงูุฏูุน (ูุญูู)

## ูุธุงู Escrow ูุงูุนูููุฉ

### ุขููุฉ ุงูุนูู:
1. ุงููุดุชุฑู ูุดุชุฑู ูุดุฑูุน
2. ูุชู ุญุฌุฒ ุงููุจูุบ ุงููุงูู ูู Escrow
3. ูุชู ุญุณุงุจ ุนูููุฉ ุงูููุตุฉ (15%) ุชููุงุฆูุงู
4. ุงููุจูุบ ุงููุชุจูู (85%) ูุญููุธ ููุจุงุฆุน
5. ูุชุฑุฉ ูุฑุงุฌุนุฉ 7 ุฃูุงู
6. ุจุนุฏ ุงูููุงููุฉ ุฃู ุงูุชูุงุก ุงููุฏุฉ:
   - ูุชู ุชุญููู 85% ููุจุงุฆุน
   - ูุชู ุชุญููู 15% ูุญุณุงุจ ุงูููุตุฉ

### ูุซุงู ุญุณุงุจู:
- ุณุนุฑ ุงููุดุฑูุน: 1000$
- ุนูููุฉ ุงูููุตุฉ (15%): 150$
- ูุจูุบ ุงูุจุงุฆุน (85%): 850$

## ูุชุบูุฑุงุช ุงูุจูุฆุฉ

### Backend (backend/.env)
```
PORT=3001
JWT_SECRET=your_jwt_secret_key
PLATFORM_FEE_PERCENTAGE=15
FRONTEND_URL=http://localhost:5000
```

### Frontend
```
NEXT_PUBLIC_API_URL=http://localhost:3001/api
```

## ุงูุชุดุบูู

### Development
```bash
# Frontend (Port 5000)
npm run dev

# Backend (Port 3001)
cd backend && npm start
```

### ุงููุตูู ููููุตุฉ
- Frontend: http://localhost:5000
- Backend API: http://localhost:3001/api
- API Health Check: http://localhost:3001/api/health

## ุงูุฃูุงู
- JWT ูููุตุงุฏูุฉ
- bcrypt ูุชุดููุฑ ูููุงุช ุงููุฑูุฑ
- CORS ูุญุฏุฏ ููู frontend
- ุญูุงูุฉ ุงููุณุงุฑุงุช ุญุณุจ ููุน ุงููุณุชุฎุฏู
- ุฑูุน ุงููููุงุช ุขูู ูุน Multer
- โ ุญูุงูุฉ endpoints ุทุฑู ุงูุฏูุน ุจุงูู authentication
- โ ุงูุชุญูู ูู ุตูุงุญูุฉ ุงููุตูู ููุจูุงูุงุช ุงูุดุฎุตูุฉ

## ููุงุญุธุงุช ูููุฉ
- ูุงุนุฏุฉ ุงูุจูุงูุงุช: PostgreSQL (Neon hosted on Replit)
- ุฑูุน ุงููููุงุช: ูุชู ุญูุธูุง ูู `/backend/uploads`
- ุงูุนูููุฉ: 15% ุซุงุจุชุฉ (ูุงุจูุฉ ููุชุนุฏูู ูู .env)
- ูุชุฑุฉ ุงููุฑุงุฌุนุฉ: 7 ุฃูุงู ุงูุชุฑุงุถูุงู
- ุทุฑู ุงูุฏูุน: ุชุฎุชูู ุญุณุจ ุงูุฏููุฉ (ูุตุฑ: ูุญุงูุธ ููุจุงููุ ุจุงูู ุงูุฏูู: ุจุทุงูุงุช ุจูููุฉ)
- ุจุฑุงูุฌ ุณุทุญ ุงูููุชุจ: ูุฌุจ ุฃู ุชุญุชูู ุนูู 6 ููุฏูููุงุช ุนูู ุงูุฃูู

## ุงูุชุญุฏูุซุงุช ุงููุณุชูุจููุฉ
- [ ] ุจูุงุจุงุช ุฏูุน ุญููููุฉ (Stripe, PayPal)
- [ ] ูุธุงู ุงูุชููููุงุช ูุงููุฑุงุฌุนุงุช
- [ ] ุฅุญุตุงุฆูุงุช ูููุญุฉ ุชุญูู ููุฅุฏุงุฑุฉ
- [ ] ูุธุงู ุงูุงุดุชุฑุงูุงุช ููุจุงุฆุนูู
- [ ] ุชุทุจูู ููุจุงูู

## ุงูุชุญุฏูุซุงุช ุงูุฃุฎูุฑุฉ (14 ุฃูุชูุจุฑ 2025)

### โ ุทุฑู ุงูุฏูุน ุญุณุจ ุงูุฏููุฉ
- ุฅุถุงูุฉ ูุธุงู ุทุฑู ุงูุฏูุน ุงููุชููุนุฉ ุญุณุจ ุงูุฏููุฉ
- ูุตุฑ: ููุฏุงููู ูุงุดุ ุฅุชุตุงูุงุช ูุงุดุ ุฃูุฑุงูุฌ ูุงุด
- ุจุงูู ุงูุฏูู: ุจุทุงูุฉ ุจูููุฉ
- ูุธุงู ููุญุฏ ููุฏูุน ูุงูุณุญุจ
- ุญูุงูุฉ ูุงููุฉ ูู endpoints ุงูุฏูุน

### โ ูุธุงู ุงูููุฏูููุงุช ุงูุชูุถูุญูุฉ
- ุฅุถุงูุฉ ููุฏูู YouTube ูุงุญุฏ (ุงุฎุชูุงุฑู) ูุธูุฑ ูู ูุงุฑุช ุงููุดุฑูุน
- ุฏุนู YouTube ู Google Drive
- ุงูููุฏูููุงุช ุงูุฅุถุงููุฉ (ููุจุฑุงูุฌ) ุชูุฑุณู ูููุดุชุฑู ุจุนุฏ ุฅุชูุงู ุงูุดุฑุงุก
- ูุง ููุฌุฏ ุญุฏ ุฃุฏูู ุฅุฌุจุงุฑู ููููุฏูููุงุช ุนูุฏ ุฑูุน ุงููุดุฑูุน

### โ ุฅุตูุงุญุงุช ุงูุฃูุงู
- ุฅุถุงูุฉ authentication ูู endpoints ุทุฑู ุงูุฏูุน
- ุงูุชุญูู ูู ุตูุงุญูุฉ ุงููุตูู ููุจูุงูุงุช ุงูุดุฎุตูุฉ
- ุฅุตูุงุญ validation ูููุน ุงููุดุฑูุน (ุฏุนู ุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ)

## ุงููุดุงูู ุงูุดุงุฆุนุฉ ูุญููููุง

### โ ุฎุทุฃ "Failed to connect to API"
**ุงูุณุจุจ**: Backend ุฃู Frontend ูุง ูุนูู ุจุณุจุจ Port ูุณุชุฎุฏู
**ุงูุญู**:
```bash
# ุฅููุงู ุงูุนูููุงุช ุงููุฏููุฉ
pkill -f "node src/server.js" && pkill -f "next dev"

# ุฅุนุงุฏุฉ ุชุดุบูู ุงูู workflows
# ูุชู ุฐูู ุชููุงุฆูุงู ูู ูุงุฌูุฉ Replit
```

### โ ูุธุงู ุงููุตุงุฏูุฉ ูุงูุจุฑููุงูู - ุชู ุฅุตูุงุญู ุจุงููุงูู
- **AuthContext**: ูุธุงู ูุชูุงูู ูุฅุฏุงุฑุฉ ุญุงูุฉ ุงููุณุชุฎุฏู ูุน ุฏูุงู:
  - `login()` - ุชุณุฌูู ุงูุฏุฎูู
  - `registerSeller()` - ุชุณุฌูู ุงูุจุงุฆุน
  - `registerCustomer()` - ุชุณุฌูู ุงููุดุชุฑู
  - `logout()` - ุชุณุฌูู ุงูุฎุฑูุฌ
- **Navbar ุงูุฏููุงูููู**: 
  - โ ูุนุฑุถ ุฃุฒุฑุงุฑ "ุชุณุฌูู ุงูุฏุฎูู" ู "ุฅูุดุงุก ุญุณุงุจ" ุนูุฏ ุนุฏู ุงูุชุณุฌูู
  - โ ูุนุฑุถ ุตูุฑุฉ ุงูุจุฑููุงูู/ุงูุญุฑู ุงูุฃูู + ุงุณู ุงููุณุชุฎุฏู ููุฑุงู ุจุนุฏ ุงูุชุณุฌูู ุฃู ุงูุฏุฎูู
- **ูุงุฆูุฉ ุงูุจุฑููุงูู**: ุชุธูุฑ ุนูุฏ ุงูุถุบุท ุนูู ุตูุฑุฉ ุงูุจุฑููุงูู ูุน ุฎูุงุฑุงุช:
  - ุงูููู ุงูุดุฎุตู
  - ุชุณุฌูู ุงูุฎุฑูุฌ
- **API Proxy**: ุชู ุฅุนุฏุงุฏ Next.js rewrites ูุชูุฌูู `/api/*` ุฅูู Backend ุนูู Port 3001
- **ุฑุจุท ุชููุงุฆู**: ุนูุฏ ุฅูุดุงุก ุญุณุงุจ ุฃู ุชุณุฌูู ุฏุฎููุ ูุชู ุชุญุฏูุซ AuthContext ุชููุงุฆูุงู ูุนุฑุถ ุงูุจุฑููุงูู
- **โ ูุธุงู "ุชุฐูุฑูู" (Remember Me)**:
  - Checkbox ูู ุตูุญุฉ Login ููุจูุงุก ูุณุฌู ุฏุฎูู
  - ุนูุฏ ุชูุนููู: JWT token ูุณุชูุฑ 30 ููู
  - ุจุฏูู ุชูุนูู: JWT token ูุณุชูุฑ 7 ุฃูุงู
  - ุงูุฌูุณุฉ ูุญููุธุฉ ูู localStorage ูุชุนูุฏ ุชููุงุฆูุงู ุนูุฏ ุฅุนุงุฏุฉ ุชุญููู ุงูุตูุญุฉ
  - Logout ููุธู ุฌููุน ุงูุจูุงูุงุช (token, user, remember_me)

## ุขุฎุฑ ุชุญุฏูุซ
ุชุงุฑูุฎ: 14 ุฃูุชูุจุฑ 2025
ุงูุญุงูุฉ: โ ุฌุงูุฒ ููุงุณุชุฎุฏุงู - ุชู ุฅุถุงูุฉ ููุฒุงุช ุงูุฏูุน ููุชุทูุจุงุช ุจุฑุงูุฌ ุณุทุญ ุงูููุชุจ

## ุชุญุฏูุซุงุช ุงูููู (14 ุฃูุชูุจุฑ 2025)

### โ ูุธุงู ุฑูุน ุงููุดุงุฑูุน - ุชู ุชุทุจููู ุจุงููุงูู
- **ุตูุญุฉ ุฅูุดุงุก ุงููุดุฑูุน (`/seller/add-project`):**
  - โ ุฑูุน ุงูุตูุฑ (ุญุชู 5 ุตูุฑ)
  - โ ุฑูุน ููุฏูู YouTube ูุงุญุฏ (ุงุฎุชูุงุฑู) ูุธูุฑ ูู ูุงุฑุช ุงููุดุฑูุน
  - โ ุงูููุฏูููุงุช ุงูุชูุถูุญูุฉ ุงูุฅุถุงููุฉ ุชูุฑุณู ูููุดุชุฑู ุจุนุฏ ุงูุดุฑุงุก
  - โ ูุง ููุฌุฏ ุญุฏ ุฃุฏูู ุฅุฌุจุงุฑู ููููุฏูููุงุช
  - โ ุฅุฏุฎุงู ุฌููุน ุชูุงุตูู ุงููุดุฑูุน
  - โ ุงุฎุชูุงุฑ ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ
  - โ ูุนูููุงุช ุงูุฃุฑุจุงุญ (ุงุฎุชูุงุฑู)
- **API Integration:**
  - โ ุฑุจุท ูุงูู ูุน Backend API
  - โ ุญูุธ ุงููุดุฑูุน ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
  - โ ุฑูุน ุงููููุงุช ุนูู ุงูุณูุฑูุฑ
  - โ ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช
  - โ ุฅุตูุงุญ ุฎุทุฃ `project_type` ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **ูุธุงู ุญูุธ ุงูุจูุงูุงุช:**
  - โ ุจูุงูุงุช ุงููุณุชุฎุฏู ูุญููุธุฉ ูู localStorage
  - โ AuthContext ูุญูุธ ุญุงูุฉ ุงููุณุชุฎุฏู
  - โ ูุง ุญุงุฌุฉ ูุฅุนุงุฏุฉ ุฅุฏุฎุงู ุงูุจูุงูุงุช

### ๐ง ุฅุตูุงุญุงุช ุชูุช ูู ูุฐู ุงูุฌูุณุฉ:
1. โ ุฅุถุงูุฉ ุนููุฏ `project_type` ููุงุนุฏุฉ ุงูุจูุงูุงุช
2. โ ุฅุถุงูุฉ ุนููุฏู `video_links` ู `video_source` ูุฌุฏูู projects
3. โ ุฅุฒุงูุฉ ูุชุทูุจ 6 ููุฏูููุงุช ููู Desktop Apps
4. โ ุชุญุฏูุซ ูุธุงู ุงูููุฏูููุงุช:
   - ููุฏูู ูุงุญุฏ ููุท (ุงุฎุชูุงุฑู) ููุนุฑุถ ูู ูุงุฑุช ุงููุดุฑูุน
   - ุงูููุฏูููุงุช ุงูุฅุถุงููุฉ ููุจุฑุงูุฌ ุชูุฑุณู ุจุนุฏ ุงูุดุฑุงุก
5. โ ุฅุตูุงุญ API ูุฑูุน ุงููุดุงุฑูุน
6. โ ุชุญุฏูุซ ูุงุฌูุฉ VideoLinksUploader
7. โ ุฅุตูุงุญ ุฑูุน ุตูุฑุฉ ุงูููู ุงูุดุฎุตู ูู ุตูุญุฉ ุงูุชุณุฌูู:
   - ุฅุถุงูุฉ ูุนุงููุฉ ููุตูุฑุฉ ุงููุฑููุนุฉ
   - ุฒุฑ ูุญุฐู ูุงุณุชุจุฏุงู ุงูุตูุฑุฉ
   - ุฑุณุงูุฉ ุชุฃููุฏ ุนูุฏ ุฑูุน ุงูุตูุฑุฉ ุจูุฌุงุญ
8. โ **ูุธุงู "ุชุฐูุฑูู" (Remember Me)**:
   - ุฅุถุงูุฉ checkbox ูู ุตูุญุฉ Login
   - JWT token ูุณุชูุฑ 30 ููู ุนูุฏ ุงูุชูุนููุ 7 ุฃูุงู ุงูุชุฑุงุถูุงู
   - ุญูุธ ุงูุฌูุณุฉ ูู localStorage ูุน bootstrap ุชููุงุฆู
   - Logout ููุธู remember_me flag ุจุงูุฅุถุงูุฉ ูุจููุฉ ุงูุจูุงูุงุช
